{"name": "e2e тест создания заказа", "status": "broken", "statusDetails": {"message": "playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"body > section > div > div.row > div.col-sm-9.padding-right > div > div:nth-child(4) > div > div.single-products > div.product-overlay > div > a\")\n  -     - locator resolved to <a data-product-id=\"6\" href=\"javascript:void();\" class=\"btn btn-default add-to-cart\">…</a>\n  -   - attempting click action\n  -     2 × waiting for element to be visible, enabled and stable\n  -       - element is not stable\n  -     - retrying click action\n  -     - waiting 20ms\n  -     - waiting for element to be visible, enabled and stable\n  -     - element is not stable\n  -   2 × retrying click action\n  -       - waiting 100ms\n  -       - waiting for element to be visible, enabled and stable\n  -       - element is visible, enabled and stable\n  -       - scrolling into view if needed\n  -       - done scrolling\n  -       - <h2 class=\"title text-center\">Brand - H&M Products</h2> intercepts pointer events\n  -   56 × retrying click action\n  -        - waiting 500ms\n  -        - waiting for element to be visible, enabled and stable\n  -        - element is visible, enabled and stable\n  -        - scrolling into view if needed\n  -        - done scrolling\n  -        - <h2 class=\"title text-center\">Brand - H&M Products</h2> intercepts pointer events\n  -   - retrying click action\n  -     - waiting 500ms", "trace": "api = <module_7_playwright.api.server_api.AutomationApi object at 0x0000023328C2EE20>\nuser_info = {'address1': 'п. Октябрьское (Челяб.), пер. Балтийский, д. 37 стр. 8, 526598', 'address2': 'с. Краснотурьинск, ул. Лазо, д. 6, 031918', 'birth_date': 19, 'birth_month': '07', ...}\ncreate_user = {'address1': 'п. Октябрьское (Челяб.), пер. Балтийский, д. 37 стр. 8, 526598', 'address2': 'с. Краснотурьинск, ул. Лазо, д. 6, 031918', 'birth_date': 19, 'birth_month': '07', ...}\nweb_auth = (<Page url='https://www.automationexercise.com/brand_products/H&M'>, [{'domain': 'www.automationexercise.com', 'expire... стр. 8, 526598', 'address2': 'с. Краснотурьинск, ул. Лазо, д. 6, 031918', 'birth_date': 19, 'birth_month': '07', ...})\nbrand_name = '(5) H&M'\n\n    @allure.title(\"e2e тест создания заказа\")\n    @allure.suite(\"Базовые тесты\")\n    @pytest.mark.parametrize(\"brand_name\", [\"(6) Polo\", \"(5) H&M\"])\n    def test_e2e_shopping(api, user_info, create_user, web_auth, brand_name):\n        page, cookies, user_info = web_auth\n        steps = Steps(page)\n        steps.open_product_page()\n        steps.brand_choice(brand_name)\n>       steps.add_to_cart()\n\ntest_playright.py:14: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\steps\\steps.py:21: in add_to_cart\n    self.product_page.add_products()\n..\\page_object\\ProductPage.py:29: in add_products\n    self.page.locator(\n..\\..\\..\\..\\miniconda3\\envs\\test_final\\lib\\site-packages\\playwright\\sync_api\\_generated.py:15450: in click\n    self._sync(\n..\\..\\..\\..\\miniconda3\\envs\\test_final\\lib\\site-packages\\playwright\\_impl\\_locator.py:156: in click\n    return await self._frame.click(self._selector, strict=True, **params)\n..\\..\\..\\..\\miniconda3\\envs\\test_final\\lib\\site-packages\\playwright\\_impl\\_frame.py:488: in click\n    await self._channel.send(\"click\", locals_to_params(locals()))\n..\\..\\..\\..\\miniconda3\\envs\\test_final\\lib\\site-packages\\playwright\\_impl\\_connection.py:61: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x0000023329140A60>\ncb = <function Channel.send.<locals>.<lambda> at 0x00000233295231F0>\nis_internal = False\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(task, \"__pw_stack__\", inspect.stack())\n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for locator(\"body > section > div > div.row > div.col-sm-9.padding-right > div > div:nth-child(4) > div > div.single-products > div.product-overlay > div > a\")\nE             -     - locator resolved to <a data-product-id=\"6\" href=\"javascript:void();\" class=\"btn btn-default add-to-cart\">…</a>\nE             -   - attempting click action\nE             -     2 × waiting for element to be visible, enabled and stable\nE             -       - element is not stable\nE             -     - retrying click action\nE             -     - waiting 20ms\nE             -     - waiting for element to be visible, enabled and stable\nE             -     - element is not stable\nE             -   2 × retrying click action\nE             -       - waiting 100ms\nE             -       - waiting for element to be visible, enabled and stable\nE             -       - element is visible, enabled and stable\nE             -       - scrolling into view if needed\nE             -       - done scrolling\nE             -       - <h2 class=\"title text-center\">Brand - H&M Products</h2> intercepts pointer events\nE             -   56 × retrying click action\nE             -        - waiting 500ms\nE             -        - waiting for element to be visible, enabled and stable\nE             -        - element is visible, enabled and stable\nE             -        - scrolling into view if needed\nE             -        - done scrolling\nE             -        - <h2 class=\"title text-center\">Brand - H&M Products</h2> intercepts pointer events\nE             -   - retrying click action\nE             -     - waiting 500ms\n\n..\\..\\..\\..\\miniconda3\\envs\\test_final\\lib\\site-packages\\playwright\\_impl\\_connection.py:528: TimeoutError"}, "steps": [{"name": "Открыта страница с товарами", "status": "passed", "start": 1738658000513, "stop": 1738658001484}, {"name": "Выбран бренд '(5) H&M'", "status": "passed", "parameters": [{"name": "brand_name", "value": "'(5) H&M'"}], "start": 1738658001484, "stop": 1738658002834}, {"name": "Товары добавлены в корзину", "status": "broken", "statusDetails": {"message": "playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"body > section > div > div.row > div.col-sm-9.padding-right > div > div:nth-child(4) > div > div.single-products > div.product-overlay > div > a\")\n  -     - locator resolved to <a data-product-id=\"6\" href=\"javascript:void();\" class=\"btn btn-default add-to-cart\">…</a>\n  -   - attempting click action\n  -     2 × waiting for element to be visible, enabled and stable\n  -       - element is not stable\n  -     - retrying click action\n  -     - waiting 20ms\n  -     - waiting for element to be visible, enabled and stable\n  -     - element is not stable\n  -   2 × retrying click action\n  -       - waiting 100ms\n  -       - waiting for element to be visible, enabled and stable\n  -       - element is visible, enabled and stable\n  -       - scrolling into view if needed\n  -       - done scrolling\n  -       - <h2 class=\"title text-center\">Brand - H&M Products</h2> intercepts pointer events\n  -   56 × retrying click action\n  -        - waiting 500ms\n  -        - waiting for element to be visible, enabled and stable\n  -        - element is visible, enabled and stable\n  -        - scrolling into view if needed\n  -        - done scrolling\n  -        - <h2 class=\"title text-center\">Brand - H&M Products</h2> intercepts pointer events\n  -   - retrying click action\n  -     - waiting 500ms\n\n", "trace": "  File \"C:\\Users\\tanai\\miniconda3\\envs\\test_final\\lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"C:\\Users\\tanai\\PycharmProjects\\autotesty_python_advanced\\module_7_playwright\\steps\\steps.py\", line 21, in add_to_cart\n    self.product_page.add_products()\n  File \"C:\\Users\\tanai\\PycharmProjects\\autotesty_python_advanced\\module_7_playwright\\page_object\\ProductPage.py\", line 29, in add_products\n    self.page.locator(\n  File \"C:\\Users\\tanai\\miniconda3\\envs\\test_final\\lib\\site-packages\\playwright\\sync_api\\_generated.py\", line 15450, in click\n    self._sync(\n  File \"C:\\Users\\tanai\\miniconda3\\envs\\test_final\\lib\\site-packages\\playwright\\_impl\\_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"C:\\Users\\tanai\\miniconda3\\envs\\test_final\\lib\\site-packages\\playwright\\_impl\\_locator.py\", line 156, in click\n    return await self._frame.click(self._selector, strict=True, **params)\n  File \"C:\\Users\\tanai\\miniconda3\\envs\\test_final\\lib\\site-packages\\playwright\\_impl\\_frame.py\", line 488, in click\n    await self._channel.send(\"click\", locals_to_params(locals()))\n  File \"C:\\Users\\tanai\\miniconda3\\envs\\test_final\\lib\\site-packages\\playwright\\_impl\\_connection.py\", line 61, in send\n    return await self._connection.wrap_api_call(\n  File \"C:\\Users\\tanai\\miniconda3\\envs\\test_final\\lib\\site-packages\\playwright\\_impl\\_connection.py\", line 528, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n"}, "start": 1738658002834, "stop": 1738658035715}], "parameters": [{"name": "brand_name", "value": "'(5) H&M'"}], "start": 1738658000512, "stop": 1738658035716, "uuid": "492d50f1-9efa-4efe-b1b2-5328fb7fcb38", "historyId": "f04127cb770b068a7f8a9d69f850f9ee", "testCaseId": "62253e9fbbad7d59c2cb9df7d23b7306", "fullName": "tests.test_playright#test_e2e_shopping", "labels": [{"name": "suite", "value": "Базовые тесты"}, {"name": "parentSuite", "value": "tests"}, {"name": "host", "value": "MSI"}, {"name": "thread", "value": "848-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_playright"}]}